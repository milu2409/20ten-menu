
<!DOCTYPE html>
<html>
<head>
  <title>20Ten Menu</title>
  <style>
    body { font-family: Arial; padding: 20px; }
    .item { margin-bottom: 10px; }
  </style>
</head>
<body>
  <h2>Welcome to 20Ten Café</h2>
  <div id="menu"></div>
  <button onclick="submitOrder()">Submit Order</button>

  <script>
    const table = new URLSearchParams(window.location.search).get('table');
    const menu = [
      { id: 1, name: "Aloo Tikki Burger", price: 40 },
      { id: 2, name: "Peri Peri Fries", price: 70 }
    ];

    const menuDiv = document.getElementById("menu");
    menu.forEach(item => {
      menuDiv.innerHTML += `
        <div class="item">
          <label>
            <input type="number" min="0" id="item-\${item.id}" value="0"/>
            \${item.name} - ₹\${item.price}
          </label>
        </div>
      `;
    });

    async function submitOrder() {
      const selected = menu
        .map(item => {
          const qty = parseInt(document.getElementById(`item-\${item.id}`).value);
          return qty > 0 ? { id: item.id, name: item.name, qty, price: item.price } : null;
        })
        .filter(Boolean);

      const total = selected.reduce((sum, i) => sum + i.qty * i.price, 0);

      await fetch("http://YOUR_API_URL/api/orders", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({
          table: parseInt(table),
          items: selected,
          total
        })
      });

      alert("Order placed!");
    }
  </script>
</body>
</html>
